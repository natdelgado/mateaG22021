<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Estudiantes.json</title>
</head>
<body>
    <!--Header-->
    <header class="p-5 bg-dark text-white text-center"><h1>Lista de Estudiantes</h1></header>
    <section class="p-5 bg-success text-white text-center">
        <p>La siguiente tabla muestra un ejemplo de como insertar los datos guardados de un archivo JSON en un html. Para realizarlo se utilizó el método fetch para generar una promesa.</p>
    </section>
    <!--Tabla-->
    <div class="container mt-5">
        <div id="acaTabla">
        </div>
    </div>
    
    <div class="b-example-divider"></div>

    <div class="container">
    <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
            <div class="col-md-4 d-flex align-items-center">
                <a href="/" class="mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1">
                    <svg class="bi" width="30" height="24"><use xlink:href="#bootstrap"/></svg>
                </a>
                <span class="text-muted">&copy; 2021 Natalia Delgado</span>
            </div>

            <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
                <li class="ms-3"><a class="text-muted" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#twitter"/></svg></a></li>
                <li class="ms-3"><a class="text-muted" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#instagram"/></svg></a></li>
                <li class="ms-3"><a class="text-muted" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#facebook"/></svg></a></li>
            </ul>
        </footer>
    </div>
    <script>
        //Función para treare el archivo json de estuidantes.
        function traerEstudiantes(){
            fetch("file11estudiantes.json")
                .then(respuesta => respuesta.json())
                .then(datosEst =>{
                    console.log("Se cargó correctamente.", datosEst);
                    mostrarEstudiantes(datosEst);
                }).catch(error =>{
                    console.log("Hay tremendo error, andá a revisarlo.", error.message);
                });
        };
        traerEstudiantes();
        //var lista = [];
        var tabla = ``;
        //Función para mostrar los estudiantes en una tabla
        function mostrarEstudiantes(datosEst){
            tabla=`
            <table class="table">
                <thead class="table-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Edad</th>
                    <th scope="col">Curso</th>
                </tr>
                </thead>
                <tbody>`
                for(i=0; i < datosEst.length; i++){
                    //datosEst[i]=estudiante;
                    //lista.push(datosEst[i])
                    let estudiante = datosEst[i];
                    tabla += `
                    <tr class="table-success">
                        <th scope="row">1</th>
                        <td>${estudiante.nombre}</td>
                        <td>${estudiante.edad}</td>
                        <td>${estudiante.curso}</td>
                    </tr>`
                    };
                    //console.log(lista);
                tabla +=`
                </tbody>
            </table>`
            document.getElementById("acaTabla").innerHTML =tabla;
        };
    </script>
</body>
</html>